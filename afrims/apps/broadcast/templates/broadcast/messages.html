{% extends "broadcast/base.html" %}

{% block title %}Broadcast Schedule{% endblock %}

{% block javascripts %}
    {{ block.super }}
    <script src="{{ MEDIA_URL }}js/jquery-ui-timepicker-addon.js" type="text/javascript"></script>
    <script src="{{ MEDIA_URL }}js/jquery.multiselect.min.js" type="text/javascript"></script>
    <script src="{{ MEDIA_URL }}broadcast/js/broadcast.js" type="text/javascript"></script>
{% endblock %}

{% block stylesheets %}
    {{ block.super }}
    <link type="text/css" rel="stylesheet" href="{{ MEDIA_URL }}css/jquery.multiselect.css" />
{% endblock %}

{% block right %}

<div class="module">
    <h2>Message History</h2>
    <table id='broadcast-history' class="sortable">
        <thead>
            <tr>
                <th>Broadcast</th>
                <th>Queued</th>
                <th>Status</th>
                <th>Contact</th>
                <th>Sent</th>
            </tr>
        </thead>
        {% for message in broadcast_messages %}
        <tr>
            <td>{{ message.broadcast.pk }} ({{ message.broadcast.body|truncatewords:2 }})</td>
            <td>{{ message.date_created|date:"m/d/y fa" }}</td>
            <td>{{ message.get_status_display }}</td>
            <td>{{ message.recipient }}</td>
            <td>{{ message.date_sent|date:"m/d/y fa" }}</td>
        </tr>
        {% empty %}
        <tr>
            <td colspan='3'>No message history</td>
        </tr>
        {% endfor %}
    </table>
</div>

{% endblock %}

