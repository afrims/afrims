{% extends "layout.html" %}
{% block title %}Reminder App{% endblock %}

{% block javascripts %}
<script src="{{ MEDIA_URL }}reminder/js/jquery.js" type="text/javascript"></script>
<script src="{{ MEDIA_URL }}reminder/js/jquery.dataTables.min.js" type="text/javascript"></script>


<script type="text/javascript" charset="utf-8"> 
var ocTable;
var ogTable;
var contactsSelected =  [];
var groupsSelected = [];
$(document).ready(function() {
	

	ogTable = $('#groups_table').dataTable( {
		"bProcessing": true,
		"bServerSide": true,
		"bPaginate"      : true,
		"sPaginationType": "full_numbers",
		"bAutoWidth": false,
		"bJQueryUI": true,
		"sAjaxSource": "groups_table/",
		"fnRowCallback": function( nRow, aData, iDisplayIndex ) {
			if ( jQuery.inArray(aData[0], groupsSelected) != -1 )
			{
				$(nRow).addClass('row_selected');
			}
			return nRow;
		},
		"aoColumns": [
			{ "bVisible": 0 }, /* ID column */
			null,
			null,
		]
	});
	
	
	
	
	ocTable = $('#contacts_table').dataTable( {
		"bProcessing": true,
		"bServerSide": true,
		"bPaginate"      : true,
		"bAutoWidth": false,
		"sPaginationType": "full_numbers",
		"bJQueryUI": true,
		"sAjaxSource": "contacts_table/",
		"fnRowCallback": function( nRow, aData, iDisplayIndex ) {
			if ( jQuery.inArray(aData[0], contactsSelected) != -1 )
			{
				$(nRow).addClass('row_selected');
			}
			return nRow;
		},
		"aoColumns": [
			{ "bVisible": 0 }, /* ID column */
			null,
			null,
			{ "bVisible": 0 },
			null, 
		]
	});
	
	/* Click event handler */
	$('#contacts_table tbody tr').live('click', function () {
		var aData = ocTable.fnGetData( this );
		var iId = aData[0];
		
		if ( jQuery.inArray(iId, contactsSelected) == -1 )
		{
			contactsSelected[contactsSelected.length++] = iId;
		}
		else
		{
			contactsSelected = jQuery.grep(contactsSelected, function(value) {
				return value != iId;
			} );
		}
		
		$(this).toggleClass('row_selected');
	} );
	
		/* Click event handler */
	$('#groups_table tbody tr').live('click', function () {
		var aData = ogTable.fnGetData( this );
		var iId = aData[0];
		
		if ( jQuery.inArray(iId, groupsSelected) == -1 )
		{
			groupsSelected[groupsSelected.length++] = iId;
		}
		else
		{
			groupsSelected = jQuery.grep(groupsSelected, function(value) {
				return value != iId;
			} );
		}
		
		$(this).toggleClass('row_selected');
	} );
} );
</script> 

{% endblock %}

{% block stylesheets %}
{{ block.super }}
		<style type="text/css" title="currentStyle">
			@import "{{ MEDIA_URL }}reminder/css/demo_page.css"
			@import "{{ MEDIA_URL }}reminder/css/demo_table.css";
			@import "{{ MEDIA_URL }}reminder/css/demo_table_jui.css";
			@import "{{ MEDIA_URL }}reminder/css/reminder.css"
		</style> 
		<link type="text/css" rel="stylesheet" href="{{ MEDIA_URL }}reminder/css/reminder.css" /> 
{% endblock %}

{% block content %}
<p>what</p>



					
	<div id="contacts_holder">
	<h1>Contacts List</h1>
	</div>
		
	<div id="groups_holder">
	<h1>Groups List</h1>
	</div>
	
	<table cellpadding="0" cellspacing="0" border="0" class="display" id="contacts_table"> 
		<thead> 
			<tr> 
				<th>ID</th> 
				<th>Name</th> 
				<th>Phone Number</th> 
				<th>Language</th> 
				<th>Groups</th>
			</tr> 
		</thead> 
		<tbody> 
			<tr> 
				<td colspan="5" class="dataTables_empty">Loading data from server</td> 
			</tr> 
		</tbody> 
		<tfoot> 
			<tr> 
				<th>ID</th> 
				<th>Name</th> 
				<th>Phone Number</th> 
				<th>Language</th> 
				<th>Groups</th>
			</tr> 
		</tfoot> 
	</table> 

	
	<div class="spacer" id="between_tables"></div> 

	<table cellpadding="0" cellspacing="0" border="0" class="display" id="groups_table"> 
		<thead> 
			<tr> 
				<th>ID</th> 
				<th width="10%">Name</th> 
				<th width="15%">Description</th> 
			</tr> 
		</thead> 
		<tbody> 
			<tr> 
				<td colspan="5" class="dataTables_empty">Loading data from server</td> 
			</tr> 
		</tbody> 
		<tfoot> 
			<tr> 
				<th>ID</th> 
				<th>Name</th> 
				<th>Description</th> 
			</tr> 
		</tfoot> 
	</table> 	


				
<div class="spacer"></div> 
			


{% endblock %}














